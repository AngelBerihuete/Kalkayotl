
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Welcome to p2d’s documentation! &#8212; p2d 0 documentation</title>
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Installation" href="Installation.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head>
  <body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="welcome-to-p2d-s-documentation">
<h1>Welcome to p2d’s documentation!<a class="headerlink" href="#welcome-to-p2d-s-documentation" title="Permalink to this headline">¶</a></h1>
<p>This document will help you through the installation and runing of the parallax-to-distance (p2d.py) code.</p>
<p>The main documentation is organised in the following sections:</p>
<ul class="simple">
<li><a class="reference internal" href="Installation.html#installation"><span class="std std-ref">Installation</span></a></li>
<li><a class="reference internal" href="Usage.html#usage"><span class="std std-ref">Usage</span></a></li>
<li><a class="reference internal" href="Priors.html#priors"><span class="std std-ref">Priors</span></a></li>
</ul>
<div class="section" id="introduction">
<h2>Introduction<a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h2>
<p>As you may already know, measuring distances to the objects in the sky is one of the main goals of astronomy since its
origins. To obtain distances, astronomers usually measure the parallax. However, transforming parallaxes into distances is not always
as straight forward as inverting them (see Coryn and Xavi papers).</p>
<p>Formally and briefely, obtaining distances from parallaxes demands probabilistic inference. We are faced with the problem of inferring the distribution
of distance given that of the observed parallax. In the Bayesian approach, the one used by p2d code, the inference of the posterior distribution of the distance
needs the specification of <a class="reference internal" href="Priors.html#priors"><span class="std std-ref">Priors</span></a> and the <em>Likelihood</em>. Therefore,</p>
<div class="math">
\begin{equation}
   p(d | \omega, \sigma_{\omega}) = \frac{p(\omega | d,\sigma_{\omega})\cdot p(d|\sigma_{\omega})}{p(\omega |\sigma_{\omega}) }
\end{equation}</div><p>where <span class="math">\(\omega\)</span> and <span class="math">\(\sigma_{\omega}\)</span>, are the observed parallax and its uncertainty, and <span class="math">\(d\)</span> is the true distance (i.e. the one we want to infer).
In general, our prior believes do not depend on the parallax uncertainties,thus <span class="math">\(p(d|\sigma_{\omega})=p(d)\)</span>, and the denominator is a normalisation constant of no interest in the present case.</p>
</div>
<div class="section" id="likelihood">
<h2>Likelihood<a class="headerlink" href="#likelihood" title="Permalink to this headline">¶</a></h2>
<p>The p2d code assumes that the observed parallax is normally distributed with median and standar deviation given by the observed value and its uncertainty, respectively.
It means that the Likelihood of the data, given the true distance, is assumed to be normal, without any systematic bias nor extra terms for underestimated uncertainties. Thus, the Likelihood is defined as,</p>
<div class="math">
\begin{equation}
   p(\omega | d,\sigma_{\omega})=\frac{1}{\sqrt{2\cdot \pi \cdot \sigma_{\omega}^2}}\cdot e^{-\frac{(\omega-1/d)^2}{2\cdot \sigma_{\omega}^2}}
\end{equation}</div></div>
<div class="section" id="posterior-of-the-distance">
<h2>Posterior of the distance<a class="headerlink" href="#posterior-of-the-distance" title="Permalink to this headline">¶</a></h2>
<p>The prosterior distribution of the distance is sampled by the <em>emcee</em> package (Daniel Foreman-Mckey reference), which is an affine invariante MCMC sampler.
The logarithm of the posterior distribution for each distance value is computed and passed to <em>emcee</em>. This later runs for a certain number of iterations, a number specified by you. You are responsible to verify that the samples have converged to the target distribution (the posterior). To help you asses this convergence, the p2d returns the integrated autocorrelation time of the Markov Chain. In a nutshell, if this time (actually mesured in iterations) is far lower than the total number of iterations, then you can be pretty sure your sample has converged.</p>
<p>Since it is well known that the posterior distribution can be biased by the prior, the function <a class="reference internal" href="analyse_priors.html#analyse-priors"><span class="std std-ref">Analysis of prior distributions</span></a> will help you to decide which prior distribution provides the less biased estimate of the distance distribution. The p2d comes with several informative and non-informative priors that you can test, according to your specific needs.</p>
<p>Before rushing to obtain distance estimates, run some simulations with the <a class="reference internal" href="analyse_priors.html#analyse-priors"><span class="std std-ref">Analysis of prior distributions</span></a> code and decide the best values for:</p>
<blockquote>
<div><ul class="simple">
<li>The prior distribution and its scale parameter.</li>
<li>The number of <em>emcee</em> iterations.</li>
</ul>
</div></blockquote>
<p>Go ahead and remember Bayes’ words, “with great power comes great responsability” (or it was Laplace who said it? taken from Anrew Gelman’s paper “Bayes: Radical, Liberal or Conservative?”)</p>
<div class="toctree-wrapper compound">
<p class="caption"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="Installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="Priors.html">Priors</a><ul>
<li class="toctree-l2"><a class="reference internal" href="Priors.html#uniform">Uniform</a></li>
<li class="toctree-l2"><a class="reference internal" href="Priors.html#gaussian">Gaussian</a></li>
<li class="toctree-l2"><a class="reference internal" href="Priors.html#cauchy">Cauchy</a></li>
<li class="toctree-l2"><a class="reference internal" href="Priors.html#edbj2015">EDBJ2015</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="Usage.html">Usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="analyse_priors.html">Analysis of prior distributions</a><ul>
<li class="toctree-l2"><a class="reference internal" href="open_cluster.html">Open cluster</a></li>
<li class="toctree-l2"><a class="reference internal" href="young_association.html">Young association</a></li>
<li class="toctree-l2"><a class="reference internal" href="solar_neighbourhood.html">Solar neighbourhood</a></li>
</ul>
</li>
</ul>
</div>
</div>
</div>
<div class="section" id="indices-and-tables">
<h1>Indices and tables<a class="headerlink" href="#indices-and-tables" title="Permalink to this headline">¶</a></h1>
<ul class="simple">
<li><a class="reference internal" href="genindex.html"><span class="std std-ref">Index</span></a></li>
<li><a class="reference internal" href="py-modindex.html"><span class="std std-ref">Module Index</span></a></li>
<li><a class="reference internal" href="search.html"><span class="std std-ref">Search Page</span></a></li>
</ul>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="#">p2d</a></h1>








<h3>Navigation</h3>
<p class="caption"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="Installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="Priors.html">Priors</a></li>
<li class="toctree-l1"><a class="reference internal" href="Usage.html">Usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="analyse_priors.html">Analysis of prior distributions</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="#">Documentation overview</a><ul>
      <li>Next: <a href="Installation.html" title="next chapter">Installation</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2018, Javier OLIVARES.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.6.3</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.10</a>
      
      |
      <a href="_sources/index.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>